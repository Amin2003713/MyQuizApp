@using MudBlazor
@using MyQuizApp.Domain.Users


<MudNavMenu>
    <AuthorizeView>
        <Authorized>
            <AuthorizeView Roles="@(UserRoles.Admin.ToString())">
                <Authorized Context="_">
                    <MudNavLink href="/Admins/Quiz/ManageQuizzes" Match="NavLinkMatch.Prefix">Manage Quizzes</MudNavLink>
                    <MudNavLink href="/Admins/Categories/ManageCategories" Match="NavLinkMatch.Prefix">Manage Categories</MudNavLink>

                </Authorized>
            </AuthorizeView>

            <AuthorizeView Roles="@(UserRoles.Student.ToString())">
                <Authorized Context="_">

                    <MudNavLink href="/Student/Quiz/MyQuizzes" Match="NavLinkMatch.Prefix">My Quizzes</MudNavLink>
                    <MudNavLink href="/Student/Categories/ListCategories" Match="NavLinkMatch.Prefix">Get All Categories</MudNavLink>

                </Authorized>
            </AuthorizeView>
            
        </Authorized>
    </AuthorizeView>

    <MudNavGroup Title="Settings">
        <MudNavLink Href="/users" Match="NavLinkMatch.Prefix">Users</MudNavLink>
        <MudNavLink Href="/security" Match="NavLinkMatch.Prefix">Security</MudNavLink>
    </MudNavGroup>   

    <MudNavLink OnClick="@(async () =>
                           {
                               await AuthState.LogoutAsync();
                               NavigationManager.NavigateTo("/login", replace: true);
                           })" Match="NavLinkMatch.Prefix">Logout</MudNavLink>

</MudNavMenu>




